import{A as e,D as t,N as n,O as r,T as i,_ as a,c as o,d as s,m as c,o as l,r as u,s as d,w as f,y as p}from"./index-BkVMh4a0.js";var m={class:`p-6`},h={class:`grid grid-cols-1 lg:grid-cols-3 gap-6`},g={class:`lg:col-span-2 card-theme rounded-2xl shadow p-6 space-y-6`},_={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},v={class:`flex flex-col`},y={class:`flex flex-col`},b={class:`flex items-center gap-4 flex-wrap`},x={class:`flex items-center gap-2 ml-2`},S={class:`grid grid-cols-1 md:grid-cols-2 gap-4 opacity-25`},C={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},w={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},T={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},E={class:`p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},D={class:`border-t border-[color:var(--color-border)] pt-6`},O={class:`grid grid-cols-1 gap-3`},k={class:`px-5 py-4 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)] gap-3`},A={class:`list-disc space-y-2`},j={class:`text-xs break-all`},M={class:`card-theme rounded-2xl shadow p-4 space-y-4`},N={class:`text-sm text-[color:var(--color-secondary)] mt-2`},ee={class:`font-medium`},P={class:`font-medium`},F={class:`font-medium`},I={class:`font-medium`},L={class:`font-medium`},R={class:`border-t border-[color:var(--color-border)] pt-3`},z={class:`flex flex-col gap-2 mt-2`},B={class:`inline-flex justify-center px-3 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm cursor-pointer`},V=`my-stock-map:settings`,H={__name:`Settings`,setup(H){let U=u(),W=[{title:`個股股價`,apiFrom:`TWSE 證交所`,partialHyperlink:`https://www.twse.com.tw/exchangeReport/STOCK_DAY?response=`},{title:`個股基本資訊（殖利率、本益比、股價淨值比等）`,apiFrom:`TWSE 證交所`,partialHyperlink:`https://www.twse.com.tw/exchangeReport/BWIBBU?response=`},{title:`公司基本資料（公司代號、名稱、地址、資本額、發行股數等）`,apiFrom:`TWSE 證交所`,partialHyperlink:`https://openapi.twse.com.tw/v1/opendata/t18`},{title:`個股相關新聞`,apiFrom:`Google News RSS`,partialHyperlink:`https://news.google.com/rss/search?q=`},{title:`上市公司市值排名`,apiFrom:`taifex 臺灣期貨交易所`,partialHyperlink:`https://www.taifex.com.tw/cht/9/fut`},{title:`上櫃公司市值排名`,apiFrom:`證券櫃檯買賣中心`,partialHyperlink:`https://www.bq888.taifex.com.tw/cht/2/tPE`},{title:`公司基本資料（代碼、名稱、產業等）`,apiFrom:`FinMind`,partialHyperlink:`https://api.finmindtrade.com/api/v4/data?dataset=`},{title:`國內上市證券國際證券辨識號碼`,apiFrom:`TWSE 證交所`,partialHyperlink:`https://isin.twse.com.tw/isin/C_public.jsp?strMode=`},{title:`國內上櫃證券國際證券辨識號碼`,apiFrom:`TWSE 證交所`,partialHyperlink:`https://isin.twse.com.tw/isin/C_public.jsp?strMode=`}],G={displayName:``,email:``,monetaryUnit:`TWD`,numberPrecision:2,reduceMotion:!1,notifyPrice:!1,notifyDaily:!1,notifyTrade:!1,notifyFrequency:`never`},K=r(J());function q(){confirm(`確定要重設所有設定並清空本地儲存嗎？`)&&(Object.assign(K,{...G}),localStorage.removeItem(V),alert(`已重設為預設值`))}function J(){try{let e=localStorage.getItem(V);if(e)return JSON.parse(e)}catch{}return{...G}}function Y(e){localStorage.setItem(V,JSON.stringify(e))}function X(){Y(K),alert(`設定已儲存（本地示範）`)}function Z(e){let t=e.target.files?.[0];if(!t)return;let n=new FileReader;n.onload=()=>{try{let e=JSON.parse(n.result);Object.assign(K,e),Y(K),alert(`匯入並套用設定完成`)}catch{alert(`匯入失敗：檔案不是正確的 JSON`)}},n.readAsText(t)}function Q(){let e=JSON.stringify(K,null,2),t=new Blob([e],{type:`application/json`}),n=URL.createObjectURL(t),r=document.createElement(`a`);r.href=n,r.download=`mst-settings.json`,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function $(){alert(`已登出（示範），請串實際認證流程`)}return(r,u)=>(f(),a(`div`,m,[c(`div`,{class:`flex items-start justify-between gap-4 mb-6`},[u[10]||=c(`div`,null,[c(`h1`,{class:`text-2xl font-bold text-[color:var(--color-primary)]`},`⚙️ 設定`),c(`p`,{class:`text-sm text-[color:var(--color-secondary)] mt-1`},`帳號、顯示、通知與整體偏好設定。`)],-1),c(`div`,{class:`flex items-center gap-3`},[c(`button`,{onClick:q,class:`px-3 py-1 rounded-md bg-red-600 text-white text-sm hover:brightness-90 transition cursor-pointer`},` 重設全部 `)])]),c(`div`,h,[c(`div`,g,[c(`section`,null,[u[17]||=c(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`個人設定`,-1),c(`div`,_,[c(`label`,v,[u[11]||=c(`span`,{class:`text-sm text-[color:var(--color-secondary)]`},`顯示名稱`,-1),t(c(`input`,{type:`text`,"onUpdate:modelValue":u[0]||=e=>K.displayName=e,placeholder:`可輸入暱稱`,class:`px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},null,512),[[o,K.displayName]])]),c(`label`,y,[u[12]||=c(`span`,{class:`text-sm text-[color:var(--color-secondary)]`},`E-mail`,-1),t(c(`input`,{type:`email`,"onUpdate:modelValue":u[1]||=e=>K.email=e,placeholder:`請輸入電子郵件`,class:`px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},null,512),[[o,K.email]])]),c(`div`,null,[u[14]||=c(`label`,{class:`text-sm text-[color:var(--color-secondary)]`},`貨幣單位`,-1),t(c(`select`,{"onUpdate:modelValue":u[2]||=e=>K.monetaryUnit=e,class:`w-full px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...u[13]||=[c(`option`,{value:`TWD`},`新臺幣 TWD`,-1),c(`option`,{value:`USD`},`美元 USD`,-1)]],512),[[d,K.monetaryUnit]])]),c(`div`,null,[u[16]||=c(`label`,{class:`text-sm text-[color:var(--color-secondary)]`},`顯示精度`,-1),t(c(`select`,{"onUpdate:modelValue":u[3]||=e=>K.numberPrecision=e,class:`w-full px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...u[15]||=[c(`option`,{value:`0`},`整數`,-1),c(`option`,{value:`2`},`小數 2 位`,-1),c(`option`,{value:`4`},`小數 4 位`,-1)]],512),[[d,K.numberPrecision]])])])]),c(`section`,null,[u[19]||=c(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`外觀`,-1),c(`div`,b,[c(`button`,{onClick:u[4]||=(...t)=>e(U).toggleUITheme&&e(U).toggleUITheme(...t),class:`px-3 py-2 rounded-lg bg-[color:var(--color-primary)] text-white hover:brightness-95 transition cursor-pointer`},` 現在主題：`+n(e(U).isDarkMode?`夜間`:`日間`),1),c(`label`,x,[t(c(`input`,{type:`checkbox`,"onUpdate:modelValue":u[5]||=e=>K.reduceMotion=e,disabled:``},null,512),[[l,K.reduceMotion]]),u[18]||=c(`span`,{class:`text-sm text-[color:var(--color-secondary)] opacity-50`},[c(`s`,null,`減少動畫（減少動態效果）`)],-1)])])]),c(`section`,null,[u[25]||=c(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},[p(` 通知 `),c(`span`,{class:`ml-3 text-xs text-[color:var(--color-secondary)]/80`},`※ 目前僅儲存偏好設定，尚未實作實際推播服務。`)],-1),c(`div`,S,[c(`label`,C,[u[20]||=c(`div`,null,[c(`div`,{class:`font-medium`},`價格提醒`),c(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`當持股達到目標價時通知您`)],-1),t(c(`input`,{type:`checkbox`,"onUpdate:modelValue":u[6]||=e=>K.notifyPrice=e,disabled:``},null,512),[[l,K.notifyPrice]])]),c(`label`,w,[u[21]||=c(`div`,null,[c(`div`,{class:`font-medium`},`每日摘要`),c(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`每日早上推播昨日總覽`)],-1),t(c(`input`,{type:`checkbox`,"onUpdate:modelValue":u[7]||=e=>K.notifyDaily=e,disabled:``},null,512),[[l,K.notifyDaily]])]),c(`label`,T,[u[22]||=c(`div`,null,[c(`div`,{class:`font-medium`},`交易異常`),c(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`監控交易失敗或拒單狀態`)],-1),t(c(`input`,{type:`checkbox`,"onUpdate:modelValue":u[8]||=e=>K.notifyTrade=e,disabled:``},null,512),[[l,K.notifyTrade]])]),c(`div`,E,[u[24]||=c(`div`,{class:`font-medium mb-1`},`推播頻率`,-1),t(c(`select`,{"onUpdate:modelValue":u[9]||=e=>K.notifyFrequency=e,disabled:``,class:`w-full px-2 py-1 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...u[23]||=[c(`option`,{value:`never`},`不推播`,-1),c(`option`,{value:`realtime`},`即時`,-1),c(`option`,{value:`hourly`},`每小時`,-1),c(`option`,{value:`daily`},`每日`,-1)]],512),[[d,K.notifyFrequency]])])])]),c(`div`,{class:`flex justify-end`},[c(`button`,{onClick:X,class:`px-5 py-2 rounded-lg bg-[color:var(--color-primary)] text-white hover:brightness-95 transition cursor-pointer`},`儲存設定`)]),c(`section`,D,[u[28]||=c(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`資料來源`,-1),c(`div`,O,[c(`div`,k,[u[27]||=c(`h3`,{class:`mb-3 font-medium`},`本網站使用之 API`,-1),c(`ul`,A,[(f(),a(s,null,i(W,(e,t)=>c(`li`,{key:t,class:`ml-4 text-sm text-[color:var(--color-secondary)]`},[p(n(e.title)+`｜`+n(e.apiFrom),1),u[26]||=c(`br`,null,null,-1),c(`span`,j,n(e.partialHyperlink)+` ...`,1)])),64))])])])])]),c(`aside`,M,[c(`div`,null,[u[34]||=c(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`當前設定`,-1),c(`div`,N,[c(`div`,null,[u[29]||=p(`顯示名稱：`,-1),c(`span`,ee,n(K.displayName||`-`),1)]),c(`div`,null,[u[30]||=p(`電子郵件：`,-1),c(`span`,P,n(K.email||`-`),1)]),c(`div`,null,[u[31]||=p(`貨幣單位：`,-1),c(`span`,F,n(K.monetaryUnit),1)]),c(`div`,null,[u[32]||=p(`顯示位數：`,-1),c(`span`,I,n(K.numberPrecision==0?`整數`:`小數後 ${K.numberPrecision} 位`),1)]),c(`div`,null,[u[33]||=p(`暗色模式：`,-1),c(`span`,L,n(e(U).isDarkMode?`啟用`:`停用`),1)])])]),c(`div`,R,[u[36]||=c(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`快速匯入 / 匯出`,-1),c(`div`,z,[c(`label`,B,[u[35]||=p(` 匯入設定 `,-1),c(`input`,{type:`file`,onChange:Z,class:`hidden`},null,32)]),c(`button`,{onClick:Q,class:`px-3 py-1 rounded-md bg-[color:var(--color-primary)] text-white text-sm cursor-pointer`},`匯出設定（JSON）`)])]),c(`div`,{class:`border-t border-[color:var(--color-border)] pt-3`},[u[37]||=c(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`帳戶`,-1),c(`div`,{class:`mt-2`},[c(`button`,{onClick:$,class:`px-3 py-1 rounded-md bg-red-600 text-white text-sm cursor-pointer`},`登出`)])])])])]))}};export{H as default};