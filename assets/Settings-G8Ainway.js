import{A as e,D as t,N as n,O as r,_ as i,a,c as o,j as s,k as c,m as l,o as u,r as d,s as f,w as p,y as m}from"./index-9M5tnWkY.js";var h={class:`p-6`},g={class:`flex items-start justify-between gap-4 mb-6`},_={class:`flex items-center gap-3`},v={class:`px-3 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm cursor-pointer hover:bg-[color:var(--color-border)] transition`},y={class:`grid grid-cols-1 lg:grid-cols-3 gap-6`},b={class:`lg:col-span-2 card-theme rounded-2xl shadow p-6 space-y-6`},x={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},S={class:`flex items-center gap-4 flex-wrap`},C={class:`flex items-center gap-2 ml-2`},w={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},T={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},E={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},D={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},O={class:`p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},k={class:`grid grid-cols-1 gap-3`},A={class:`p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)] flex items-center gap-3`},j={class:`flex items-center gap-2`},M=[`type`],N={class:`card-theme rounded-2xl shadow p-4 space-y-4`},P={class:`text-sm text-[color:var(--color-secondary)] mt-2`},F={class:`font-medium`},I={class:`font-medium`},L={class:`font-medium`},R={class:`font-medium`},z=`my-stock-map:settings`,B={__name:`Settings`,setup(B){let V=d(),H={displayName:``,email:``,timezone:`Asia/Taipei`,numberPrecision:2,reduceMotion:!1,notifyPrice:!0,notifyDaily:!1,notifyTrade:!0,notifyFrequency:`daily`,apiKey:``},U=r(G()),W=c(!1);function G(){try{let e=localStorage.getItem(z);if(e)return JSON.parse(e)}catch{}return{...H}}function K(e){localStorage.setItem(z,JSON.stringify(e))}function q(){K(U),alert(`設定已儲存（本地示範）`)}function J(){let e=JSON.stringify(U,null,2),t=new Blob([e],{type:`application/json`}),n=URL.createObjectURL(t),r=document.createElement(`a`);r.href=n,r.download=`mst-settings.json`,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function Y(e){let t=e.target.files?.[0];if(!t)return;let n=new FileReader;n.onload=()=>{try{let e=JSON.parse(n.result);Object.assign(U,e),K(U),alert(`匯入並套用設定完成`)}catch{alert(`匯入失敗：檔案不是正確的 JSON`)}},n.readAsText(t)}function X(){confirm(`確定要重設所有設定並清空本地儲存嗎？`)&&(Object.assign(U,{...H}),localStorage.removeItem(z),alert(`已重設為預設值`))}function Z(){Object.assign(U,{...H}),K(U),alert(`已載入預設設定`)}function Q(){U.apiKey=``,K(U),alert(`API Key 已清除（本地示範）`)}function $(){alert(`已登出（示範），請串實際認證流程`)}return(r,c)=>(p(),i(`div`,h,[l(`div`,g,[c[14]||=l(`div`,null,[l(`h1`,{class:`text-2xl font-bold text-[color:var(--color-primary)]`},`⚙️ 設定`),l(`p`,{class:`text-sm text-[color:var(--color-secondary)] mt-1`},`帳號、顯示、通知與整體偏好設定。`)],-1),l(`div`,_,[l(`button`,{onClick:J,class:`px-3 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm hover:bg-[color:var(--color-border)] transition`},` 匯出設定 `),l(`label`,v,[c[13]||=m(` 匯入設定 `,-1),l(`input`,{type:`file`,onChange:Y,class:`hidden`},null,32)]),l(`button`,{onClick:X,class:`px-3 py-1 rounded-md bg-red-600 text-white text-sm hover:brightness-90 transition`},` 重設全部 `)])]),l(`div`,y,[l(`div`,b,[l(`section`,null,[c[18]||=l(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`個人設定`,-1),l(`div`,x,[t(l(`input`,{"onUpdate:modelValue":c[0]||=e=>U.displayName=e,placeholder:`顯示名稱`,class:`px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},null,512),[[o,U.displayName]]),t(l(`input`,{"onUpdate:modelValue":c[1]||=e=>U.email=e,placeholder:`電子郵件`,class:`px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},null,512),[[o,U.email]]),t(l(`select`,{"onUpdate:modelValue":c[2]||=e=>U.timezone=e,class:`px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...c[15]||=[l(`option`,{value:`Asia/Taipei`},`Asia/Taipei`,-1),l(`option`,{value:`UTC`},`UTC`,-1),l(`option`,{value:`America/New_York`},`America/New_York`,-1)]],512),[[f,U.timezone]]),l(`div`,null,[c[17]||=l(`label`,{class:`text-sm text-[color:var(--color-secondary)]`},`顯示精度`,-1),t(l(`select`,{"onUpdate:modelValue":c[3]||=e=>U.numberPrecision=e,class:`w-full px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...c[16]||=[l(`option`,{value:`0`},`整數`,-1),l(`option`,{value:`2`},`小數 2 位`,-1),l(`option`,{value:`4`},`小數 4 位`,-1)]],512),[[f,U.numberPrecision]])])])]),l(`section`,null,[c[20]||=l(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`外觀 (Theme)`,-1),l(`div`,S,[l(`button`,{onClick:c[4]||=t=>e(V).isDarkMode?e(V).toggleUITheme():null,class:s([`px-3 py-2 rounded-lg border transition`,e(V).isDarkMode?`bg-[color:var(--color-card)] border-[color:var(--color-border)]`:`bg-white border-gray-200`])},` 現在：`+n(e(V).isDarkMode?`夜間`:`日間`),3),l(`button`,{onClick:c[5]||=(...t)=>e(V).toggleUITheme&&e(V).toggleUITheme(...t),class:`px-3 py-2 rounded-lg bg-[color:var(--color-primary)] text-white hover:brightness-95 transition cursor-pointer`},` 切換主題 `),l(`label`,C,[t(l(`input`,{type:`checkbox`,"onUpdate:modelValue":c[6]||=e=>U.reduceMotion=e,disabled:``},null,512),[[a,U.reduceMotion]]),c[19]||=l(`span`,{class:`text-sm text-[color:var(--color-secondary)] opacity-50`},[l(`s`,null,`減少動畫（減少動態效果）`)],-1)])])]),l(`section`,null,[c[26]||=l(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`通知`,-1),l(`div`,w,[l(`label`,T,[c[21]||=l(`div`,null,[l(`div`,{class:`font-medium`},`價格提醒`),l(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`當持股達到目標價時通知您`)],-1),t(l(`input`,{type:`checkbox`,"onUpdate:modelValue":c[7]||=e=>U.notifyPrice=e},null,512),[[a,U.notifyPrice]])]),l(`label`,E,[c[22]||=l(`div`,null,[l(`div`,{class:`font-medium`},`每日摘要`),l(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`每日早上推播昨日總覽`)],-1),t(l(`input`,{type:`checkbox`,"onUpdate:modelValue":c[8]||=e=>U.notifyDaily=e},null,512),[[a,U.notifyDaily]])]),l(`label`,D,[c[23]||=l(`div`,null,[l(`div`,{class:`font-medium`},`交易異常`),l(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`監控交易失敗或拒單狀態`)],-1),t(l(`input`,{type:`checkbox`,"onUpdate:modelValue":c[9]||=e=>U.notifyTrade=e},null,512),[[a,U.notifyTrade]])]),l(`div`,O,[c[25]||=l(`div`,{class:`font-medium mb-1`},`推播頻率`,-1),t(l(`select`,{"onUpdate:modelValue":c[10]||=e=>U.notifyFrequency=e,class:`w-full px-2 py-1 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...c[24]||=[l(`option`,{value:`realtime`},`即時`,-1),l(`option`,{value:`hourly`},`每小時`,-1),l(`option`,{value:`daily`},`每日`,-1)]],512),[[f,U.notifyFrequency]])])])]),l(`section`,null,[c[29]||=l(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`API / Integrations`,-1),l(`div`,k,[l(`div`,A,[c[27]||=l(`div`,{class:`flex-1`},[l(`div`,{class:`text-sm text-[color:var(--color-secondary)]`},`第三方行情 API Key`),l(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`此金鑰會存在 localStorage（示範），上線請改用安全後端儲存。`)],-1),l(`div`,j,[t(l(`input`,{"onUpdate:modelValue":c[11]||=e=>U.apiKey=e,type:W.value?`text`:`password`,placeholder:`輸入 API Key`,class:`px-2 py-1 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},null,8,M),[[u,U.apiKey]]),l(`button`,{onClick:c[12]||=e=>W.value=!W.value,class:`px-2 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm`},n(W.value?`隱藏`:`顯示`),1),l(`button`,{onClick:Q,class:`px-2 py-1 rounded-md bg-red-600 text-white text-sm hover:brightness-95`},`清除`)])]),c[28]||=l(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`注意：不要在公開 repo 或 client-side 存放敏感金鑰。`,-1)])]),l(`div`,{class:`flex justify-end`},[l(`button`,{onClick:q,class:`px-5 py-2 rounded-lg bg-[color:var(--color-primary)] text-white hover:brightness-95 transition`},`儲存設定`)])]),l(`aside`,N,[l(`div`,null,[c[34]||=l(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`當前設定`,-1),l(`div`,P,[l(`div`,null,[c[30]||=m(`顯示名稱：`,-1),l(`span`,F,n(U.displayName||`-`),1)]),l(`div`,null,[c[31]||=m(`電子郵件：`,-1),l(`span`,I,n(U.email||`-`),1)]),l(`div`,null,[c[32]||=m(`時區：`,-1),l(`span`,L,n(U.timezone),1)]),l(`div`,null,[c[33]||=m(`暗色模式：`,-1),l(`span`,R,n(e(V).isDarkMode?`啟用`:`停用`),1)])])]),l(`div`,{class:`border-t border-[color:var(--color-border)] pt-3`},[c[35]||=l(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`快速匯入 / 匯出`,-1),l(`div`,{class:`flex flex-col gap-2 mt-2`},[l(`button`,{onClick:J,class:`px-3 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm`},`匯出 JSON`),l(`button`,{onClick:Z,class:`px-3 py-1 rounded-md bg-[color:var(--color-primary)] text-white text-sm`},`載入預設`)])]),l(`div`,{class:`border-t border-[color:var(--color-border)] pt-3`},[c[36]||=l(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`帳戶`,-1),l(`div`,{class:`mt-2`},[l(`button`,{onClick:$,class:`px-3 py-1 rounded-md bg-red-600 text-white text-sm`},`登出`)])])])])]))}};export{B as default};