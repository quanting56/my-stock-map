import{D as e,E as t,O as n,S as r,T as i,_ as a,a as o,f as s,h as c,i as l,j as u,k as d,n as f,o as p,s as m}from"./index-J-M0iZ4G.js";var h={class:`p-6`},g={class:`flex items-start justify-between gap-4 mb-6`},_={class:`flex items-center gap-3`},v={class:`px-3 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm cursor-pointer hover:bg-[color:var(--color-border)] transition`},y={class:`grid grid-cols-1 lg:grid-cols-3 gap-6`},b={class:`lg:col-span-2 card-theme rounded-2xl shadow p-6 space-y-6`},x={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},S={class:`flex items-center gap-4 flex-wrap`},C={class:`flex items-center gap-2 ml-2`},w={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},T={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},E={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},D={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},O={class:`p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},k={class:`grid grid-cols-1 gap-3`},A={class:`p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)] flex items-center gap-3`},j={class:`flex items-center gap-2`},M=[`type`],N={class:`card-theme rounded-2xl shadow p-4 space-y-4`},P={class:`text-sm text-[color:var(--color-secondary)] mt-2`},F={class:`font-medium`},I={class:`font-medium`},L={class:`font-medium`},R={class:`font-medium`},z=`my-stock-map:settings`,B={__name:`Settings`,setup(B){let V=f(),H={displayName:``,email:``,timezone:`Asia/Taipei`,numberPrecision:2,reduceMotion:!1,notifyPrice:!0,notifyDaily:!1,notifyTrade:!0,notifyFrequency:`daily`,apiKey:``},U=t(G()),W=e(!1);function G(){try{let e=localStorage.getItem(z);if(e)return JSON.parse(e)}catch{}return{...H}}function K(e){localStorage.setItem(z,JSON.stringify(e))}function q(){K(U),alert(`設定已儲存（本地示範）`)}function J(){let e=JSON.stringify(U,null,2),t=new Blob([e],{type:`application/json`}),n=URL.createObjectURL(t),r=document.createElement(`a`);r.href=n,r.download=`mst-settings.json`,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function Y(e){let t=e.target.files?.[0];if(!t)return;let n=new FileReader;n.onload=()=>{try{let e=JSON.parse(n.result);Object.assign(U,e),K(U),alert(`匯入並套用設定完成`)}catch{alert(`匯入失敗：檔案不是正確的 JSON`)}},n.readAsText(t)}function X(){confirm(`確定要重設所有設定並清空本地儲存嗎？`)&&(Object.assign(U,{...H}),localStorage.removeItem(z),alert(`已重設為預設值`))}function Z(){Object.assign(U,{...H}),K(U),alert(`已載入預設設定`)}function Q(){U.apiKey=``,K(U),alert(`API Key 已清除（本地示範）`)}function $(){alert(`已登出（示範），請串實際認證流程`)}return(e,t)=>(r(),c(`div`,h,[s(`div`,g,[t[14]||=s(`div`,null,[s(`h1`,{class:`text-2xl font-bold text-[color:var(--color-primary)]`},`⚙️ 設定`),s(`p`,{class:`text-sm text-[color:var(--color-secondary)] mt-1`},`帳號、顯示、通知與整體偏好設定。`)],-1),s(`div`,_,[s(`button`,{onClick:J,class:`px-3 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm hover:bg-[color:var(--color-border)] transition`},` 匯出設定 `),s(`label`,v,[t[13]||=a(` 匯入設定 `,-1),s(`input`,{type:`file`,onChange:Y,class:`hidden`},null,32)]),s(`button`,{onClick:X,class:`px-3 py-1 rounded-md bg-red-600 text-white text-sm hover:brightness-90 transition`},` 重設全部 `)])]),s(`div`,y,[s(`div`,b,[s(`section`,null,[t[18]||=s(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`個人設定`,-1),s(`div`,x,[i(s(`input`,{"onUpdate:modelValue":t[0]||=e=>U.displayName=e,placeholder:`顯示名稱`,class:`px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},null,512),[[m,U.displayName]]),i(s(`input`,{"onUpdate:modelValue":t[1]||=e=>U.email=e,placeholder:`電子郵件`,class:`px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},null,512),[[m,U.email]]),i(s(`select`,{"onUpdate:modelValue":t[2]||=e=>U.timezone=e,class:`px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...t[15]||=[s(`option`,{value:`Asia/Taipei`},`Asia/Taipei`,-1),s(`option`,{value:`UTC`},`UTC`,-1),s(`option`,{value:`America/New_York`},`America/New_York`,-1)]],512),[[p,U.timezone]]),s(`div`,null,[t[17]||=s(`label`,{class:`text-sm text-[color:var(--color-secondary)]`},`顯示精度`,-1),i(s(`select`,{"onUpdate:modelValue":t[3]||=e=>U.numberPrecision=e,class:`w-full px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...t[16]||=[s(`option`,{value:`0`},`整數`,-1),s(`option`,{value:`2`},`小數 2 位`,-1),s(`option`,{value:`4`},`小數 4 位`,-1)]],512),[[p,U.numberPrecision]])])])]),s(`section`,null,[t[20]||=s(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`外觀 (Theme)`,-1),s(`div`,S,[s(`button`,{onClick:t[4]||=e=>n(V).isDarkMode?n(V).toggleUITheme():null,class:d([`px-3 py-2 rounded-lg border transition`,n(V).isDarkMode?`bg-[color:var(--color-card)] border-[color:var(--color-border)]`:`bg-white border-gray-200`])},` 現在：`+u(n(V).isDarkMode?`夜間`:`日間`),3),s(`button`,{onClick:t[5]||=(...e)=>n(V).toggleUITheme&&n(V).toggleUITheme(...e),class:`px-3 py-2 rounded-lg bg-[color:var(--color-primary)] text-white hover:brightness-95 transition cursor-pointer`},` 切換主題 `),s(`label`,C,[i(s(`input`,{type:`checkbox`,"onUpdate:modelValue":t[6]||=e=>U.reduceMotion=e,disabled:``},null,512),[[l,U.reduceMotion]]),t[19]||=s(`span`,{class:`text-sm text-[color:var(--color-secondary)] opacity-50`},[s(`s`,null,`減少動畫（減少動態效果）`)],-1)])])]),s(`section`,null,[t[26]||=s(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`通知`,-1),s(`div`,w,[s(`label`,T,[t[21]||=s(`div`,null,[s(`div`,{class:`font-medium`},`價格提醒`),s(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`當持股達到目標價時通知您`)],-1),i(s(`input`,{type:`checkbox`,"onUpdate:modelValue":t[7]||=e=>U.notifyPrice=e},null,512),[[l,U.notifyPrice]])]),s(`label`,E,[t[22]||=s(`div`,null,[s(`div`,{class:`font-medium`},`每日摘要`),s(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`每日早上推播昨日總覽`)],-1),i(s(`input`,{type:`checkbox`,"onUpdate:modelValue":t[8]||=e=>U.notifyDaily=e},null,512),[[l,U.notifyDaily]])]),s(`label`,D,[t[23]||=s(`div`,null,[s(`div`,{class:`font-medium`},`交易異常`),s(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`監控交易失敗或拒單狀態`)],-1),i(s(`input`,{type:`checkbox`,"onUpdate:modelValue":t[9]||=e=>U.notifyTrade=e},null,512),[[l,U.notifyTrade]])]),s(`div`,O,[t[25]||=s(`div`,{class:`font-medium mb-1`},`推播頻率`,-1),i(s(`select`,{"onUpdate:modelValue":t[10]||=e=>U.notifyFrequency=e,class:`w-full px-2 py-1 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...t[24]||=[s(`option`,{value:`realtime`},`即時`,-1),s(`option`,{value:`hourly`},`每小時`,-1),s(`option`,{value:`daily`},`每日`,-1)]],512),[[p,U.notifyFrequency]])])])]),s(`section`,null,[t[29]||=s(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`API / Integrations`,-1),s(`div`,k,[s(`div`,A,[t[27]||=s(`div`,{class:`flex-1`},[s(`div`,{class:`text-sm text-[color:var(--color-secondary)]`},`第三方行情 API Key`),s(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`此金鑰會存在 localStorage（示範），上線請改用安全後端儲存。`)],-1),s(`div`,j,[i(s(`input`,{"onUpdate:modelValue":t[11]||=e=>U.apiKey=e,type:W.value?`text`:`password`,placeholder:`輸入 API Key`,class:`px-2 py-1 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},null,8,M),[[o,U.apiKey]]),s(`button`,{onClick:t[12]||=e=>W.value=!W.value,class:`px-2 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm`},u(W.value?`隱藏`:`顯示`),1),s(`button`,{onClick:Q,class:`px-2 py-1 rounded-md bg-red-600 text-white text-sm hover:brightness-95`},`清除`)])]),t[28]||=s(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`注意：不要在公開 repo 或 client-side 存放敏感金鑰。`,-1)])]),s(`div`,{class:`flex justify-end`},[s(`button`,{onClick:q,class:`px-5 py-2 rounded-lg bg-[color:var(--color-primary)] text-white hover:brightness-95 transition`},`儲存設定`)])]),s(`aside`,N,[s(`div`,null,[t[34]||=s(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`當前設定`,-1),s(`div`,P,[s(`div`,null,[t[30]||=a(`顯示名稱：`,-1),s(`span`,F,u(U.displayName||`-`),1)]),s(`div`,null,[t[31]||=a(`電子郵件：`,-1),s(`span`,I,u(U.email||`-`),1)]),s(`div`,null,[t[32]||=a(`時區：`,-1),s(`span`,L,u(U.timezone),1)]),s(`div`,null,[t[33]||=a(`暗色模式：`,-1),s(`span`,R,u(n(V).isDarkMode?`啟用`:`停用`),1)])])]),s(`div`,{class:`border-t border-[color:var(--color-border)] pt-3`},[t[35]||=s(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`快速匯入 / 匯出`,-1),s(`div`,{class:`flex flex-col gap-2 mt-2`},[s(`button`,{onClick:J,class:`px-3 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm`},`匯出 JSON`),s(`button`,{onClick:Z,class:`px-3 py-1 rounded-md bg-[color:var(--color-primary)] text-white text-sm`},`載入預設`)])]),s(`div`,{class:`border-t border-[color:var(--color-border)] pt-3`},[t[36]||=s(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`帳戶`,-1),s(`div`,{class:`mt-2`},[s(`button`,{onClick:$,class:`px-3 py-1 rounded-md bg-red-600 text-white text-sm`},`登出`)])])])])]))}};export{B as default};