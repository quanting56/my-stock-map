import{C as e,D as t,O as n,S as r,T as i,_ as a,b as o,c as s,d as c,f as l,g as u,k as d,l as f,p,r as m,s as h,t as g,u as _,v,x as y,y as b}from"./index-BsVPBOLV.js";var x=`myStockMap_holdings`,S=[{id:`0000.TW`,name:`現金`,shares:1,price:38e3,cost:38e3},{id:`2330.TW`,name:`台積電`,shares:167,price:1425,cost:899},{id:`00757.TW`,name:`統一FANG+`,shares:934,price:117.9,cost:100},{id:`00675L.TW`,name:`富邦臺灣加權正二`,shares:5796,price:125.5,cost:77.83}];const C=m(`portfolio`,()=>{let e=localStorage.getItem(x),t=i(e?JSON.parse(e):S);function n(){t.value.forEach(e=>{e.shares=Number(e.shares)||0,e.price=Number(e.price)||0,e.cost=Number(e.cost)||0,e.stockValue=Number(e.shares*e.price||0)})}n(),r(t,e=>{try{localStorage.setItem(x,JSON.stringify(e))}catch(e){console.warn(`存 localStorage 失敗`,e)}},{deep:!0});function a(e){let n=t.value.findIndex(t=>t.id===e.id),r={id:e.id,name:e.name||e.id,shares:Number(e.shares)||0,price:Number(e.price)||0,cost:Number(e.cost)||0};r.value=r.shares*r.price,n===-1?t.value.push(r):t.value[n]={...t.value[n],...r}}function o(e){t.value=t.value.filter(t=>t.id!==e)}function s(){t.value=[]}let c=_(()=>t.value.reduce((e,t)=>e+(Number(t.stockValue)||0),0)),l=_(()=>t.value.reduce((e,t)=>e+(Number(t.cost)*Number(t.shares)||0),0)),u=_(()=>{let e=l.value;return e?(c.value-e)/e:0});function d(e){let n=!1;return t.value.forEach(t=>{e[t.id]!=null&&(t.price=Number(e[t.id]),t.value=t.price*t.shares,n=!0)}),n}return{holdingDetailsData:t,addOrUpdateHolding:a,removeHolding:o,clearHoldings:s,recalcValues:n,updatePrices:d,totalValue:c,totalCost:l,overallReturnPercent:u}});var w={class:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4`},T={class:`card-theme rounded-2xl shadow p-4 text-center`},E={class:`text-2xl font-bold mt-2 text-[color:var(--color-primary)]`},D={class:`card-theme rounded-2xl shadow p-4 text-center`},O={class:`text-2xl font-bold mt-2 text-[color:var(--color-line3)]`},k={class:`card-theme rounded-2xl shadow p-4 text-center`},A={class:`text-2xl font-bold mt-2 text-[color:var(--color-line2)]`},j={class:`card-theme rounded-2xl shadow p-4 text-center`},M={class:`text-2xl font-bold mt-2 text-[color:var(--color-primary)]`},N={__name:`SummaryCards`,setup(e){let t=C(),n=_(()=>t.totalValue||0),r=_(()=>t.totalCost||0),i=_(()=>t.overallReturnPercent||0),a=_(()=>t.holdingDetailsData[0].stockValue/t.totalValue||0);return(e,t)=>(o(),p(`div`,w,[c(`div`,T,[t[0]||=c(`h3`,{class:`text-sm text-[color:var(--color-secondary)]`},`總市值`,-1),c(`p`,E,`$`+d(n.value.toLocaleString()),1)]),c(`div`,D,[t[1]||=c(`h3`,{class:`text-sm text-[color:var(--color-secondary)]`},`總成本`,-1),c(`p`,O,`$`+d(r.value.toLocaleString()),1)]),c(`div`,k,[t[2]||=c(`h3`,{class:`text-sm text-[color:var(--color-secondary)]`},`總報酬率`,-1),c(`p`,A,d(i.value<0?``:`+`)+d((i.value*100).toFixed(2))+`% `,1)]),c(`div`,j,[t[3]||=c(`h3`,{class:`text-sm text-[color:var(--color-secondary)]`},`現金比例`,-1),c(`p`,M,d((a.value*100).toFixed(2))+`%`,1)])]))}},ee=class extends Map{constructor(e,t=ie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(let[t,n]of e)this.set(t,n)}get(e){return super.get(te(this,e))}has(e){return super.has(te(this,e))}set(e,t){return super.set(ne(this,e),t)}delete(e){return super.delete(re(this,e))}};function te({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function ne({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function re({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ie(e){return typeof e==`object`&&e?e.valueOf():e}var ae={value:()=>{}};function P(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+``)||r in n||/[\s.]/.test(r))throw Error(`illegal type: `+r);n[r]=[]}return new F(n)}function F(e){this._=e}function oe(e,t){return e.trim().split(/^|\s+/).map(function(e){var n=``,r=e.indexOf(`.`);if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw Error(`unknown type: `+e);return{type:e,name:n}})}F.prototype=P.prototype={constructor:F,on:function(e,t){var n=this._,r=oe(e+``,n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=se(n[i],e.name)))return i;return}if(t!=null&&typeof t!=`function`)throw Error(`invalid callback: `+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=ce(n[i],e.name,t);else if(t==null)for(i in n)n[i]=ce(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new F(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function se(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function ce(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ae,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var le=P,ue={svg:`http://www.w3.org/2000/svg`,xhtml:`http://www.w3.org/1999/xhtml`,xlink:`http://www.w3.org/1999/xlink`,xml:`http://www.w3.org/XML/1998/namespace`,xmlns:`http://www.w3.org/2000/xmlns/`};function de(e){var t=e+=``,n=t.indexOf(`:`);return n>=0&&(t=e.slice(0,n))!==`xmlns`&&(e=e.slice(n+1)),ue.hasOwnProperty(t)?{space:ue[t],local:e}:e}function fe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===`http://www.w3.org/1999/xhtml`&&t.documentElement.namespaceURI===`http://www.w3.org/1999/xhtml`?t.createElement(e):t.createElementNS(n,e)}}function pe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function me(e){var t=de(e);return(t.local?pe:fe)(t)}function he(){}function ge(e){return e==null?he:function(){return this.querySelector(e)}}function _e(e){typeof e!=`function`&&(e=ge(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=Array(o),c,l,u=0;u<o;++u)(c=a[u])&&(l=e.call(c,c.__data__,u,a))&&(`__data__`in c&&(l.__data__=c.__data__),s[u]=l);return new L(r,this._parents)}function ve(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ye(){return[]}function be(e){return e==null?ye:function(){return this.querySelectorAll(e)}}function xe(e){return function(){return ve(e.apply(this,arguments))}}function Se(e){e=typeof e==`function`?xe(e):be(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&(r.push(e.call(c,c.__data__,l,o)),i.push(c));return new L(r,i)}function Ce(e){return function(){return this.matches(e)}}function we(e){return function(t){return t.matches(e)}}var Te=Array.prototype.find;function Ee(e){return function(){return Te.call(this.children,e)}}function De(){return this.firstElementChild}function Oe(e){return this.select(e==null?De:Ee(typeof e==`function`?e:we(e)))}var ke=Array.prototype.filter;function Ae(){return Array.from(this.children)}function je(e){return function(){return ke.call(this.children,e)}}function Me(e){return this.selectAll(e==null?Ae:je(typeof e==`function`?e:we(e)))}function Ne(e){typeof e!=`function`&&(e=Ce(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&e.call(c,c.__data__,l,a)&&s.push(c);return new L(r,this._parents)}function Pe(e){return Array(e.length)}function Fe(){return new L(this._enter||this._groups.map(Pe),this._parents)}function Ie(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ie.prototype={constructor:Ie,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Le(e){return function(){return e}}function Re(e,t,n,r,i,a){for(var o=0,s,c=t.length,l=a.length;o<l;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new Ie(e,a[o]);for(;o<c;++o)(s=t[o])&&(i[o]=s)}function ze(e,t,n,r,i,a,o){var s,c,l=new Map,u=t.length,d=a.length,f=Array(u),p;for(s=0;s<u;++s)(c=t[s])&&(f[s]=p=o.call(c,c.__data__,s,t)+``,l.has(p)?i[s]=c:l.set(p,c));for(s=0;s<d;++s)p=o.call(e,a[s],s,a)+``,(c=l.get(p))?(r[s]=c,c.__data__=a[s],l.delete(p)):n[s]=new Ie(e,a[s]);for(s=0;s<u;++s)(c=t[s])&&l.get(f[s])===c&&(i[s]=c)}function Be(e){return e.__data__}function Ve(e,t){if(!arguments.length)return Array.from(this,Be);var n=t?ze:Re,r=this._parents,i=this._groups;typeof e!=`function`&&(e=Le(e));for(var a=i.length,o=Array(a),s=Array(a),c=Array(a),l=0;l<a;++l){var u=r[l],d=i[l],f=d.length,p=He(e.call(u,u&&u.__data__,l,r)),m=p.length,h=s[l]=Array(m),g=o[l]=Array(m),_=c[l]=Array(f);n(u,d,h,g,_,p,t);for(var v=0,y=0,b,x;v<m;++v)if(b=h[v]){for(v>=y&&(y=v+1);!(x=g[y])&&++y<m;);b._next=x||null}}return o=new L(o,r),o._enter=s,o._exit=c,o}function He(e){return typeof e==`object`&&`length`in e?e:Array.from(e)}function Ue(){return new L(this._exit||this._groups.map(Pe),this._parents)}function We(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e==`function`?(r=e(r),r&&=r.selection()):r=r.append(e+``),t!=null&&(i=t(i),i&&=i.selection()),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Ge(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=Array(i),c=0;c<o;++c)for(var l=n[c],u=r[c],d=l.length,f=s[c]=Array(d),p,m=0;m<d;++m)(p=l[m]||u[m])&&(f[m]=p);for(;c<i;++c)s[c]=n[c];return new L(s,this._parents)}function Ke(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function qe(e){e||=Je;function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var n=this._groups,r=n.length,i=Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,c=i[a]=Array(s),l,u=0;u<s;++u)(l=o[u])&&(c[u]=l);c.sort(t)}return new L(i,this._parents).order()}function Je(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ye(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Xe(){return Array.from(this)}function Ze(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Qe(){let e=0;for(let t of this)++e;return e}function $e(){return!this.node()}function et(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function tt(e){return function(){this.removeAttribute(e)}}function nt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rt(e,t){return function(){this.setAttribute(e,t)}}function it(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function at(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ot(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function st(e,t){var n=de(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?nt:tt:typeof t==`function`?n.local?ot:at:n.local?it:rt)(n,t))}function ct(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lt(e){return function(){this.style.removeProperty(e)}}function ut(e,t,n){return function(){this.style.setProperty(e,t,n)}}function dt(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ft(e,t,n){return arguments.length>1?this.each((t==null?lt:typeof t==`function`?dt:ut)(e,t,n??``)):I(this.node(),e)}function I(e,t){return e.style.getPropertyValue(t)||ct(e).getComputedStyle(e,null).getPropertyValue(t)}function pt(e){return function(){delete this[e]}}function mt(e,t){return function(){this[e]=t}}function ht(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function gt(e,t){return arguments.length>1?this.each((t==null?pt:typeof t==`function`?ht:mt)(e,t)):this.node()[e]}function _t(e){return e.trim().split(/^|\s+/)}function vt(e){return e.classList||new yt(e)}function yt(e){this._node=e,this._names=_t(e.getAttribute(`class`)||``)}yt.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute(`class`,this._names.join(` `)))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute(`class`,this._names.join(` `)))},contains:function(e){return this._names.indexOf(e)>=0}};function bt(e,t){for(var n=vt(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function xt(e,t){for(var n=vt(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function St(e){return function(){bt(this,e)}}function Ct(e){return function(){xt(this,e)}}function wt(e,t){return function(){(t.apply(this,arguments)?bt:xt)(this,e)}}function Tt(e,t){var n=_t(e+``);if(arguments.length<2){for(var r=vt(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t==`function`?wt:t?St:Ct)(n,t))}function Et(){this.textContent=``}function Dt(e){return function(){this.textContent=e}}function Ot(e){return function(){this.textContent=e.apply(this,arguments)??``}}function kt(e){return arguments.length?this.each(e==null?Et:(typeof e==`function`?Ot:Dt)(e)):this.node().textContent}function At(){this.innerHTML=``}function jt(e){return function(){this.innerHTML=e}}function Mt(e){return function(){this.innerHTML=e.apply(this,arguments)??``}}function Nt(e){return arguments.length?this.each(e==null?At:(typeof e==`function`?Mt:jt)(e)):this.node().innerHTML}function Pt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ft(){return this.each(Pt)}function It(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Lt(){return this.each(It)}function Rt(e){var t=typeof e==`function`?e:me(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function zt(){return null}function Bt(e,t){var n=typeof e==`function`?e:me(e),r=t==null?zt:typeof t==`function`?t:ge(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Vt(){var e=this.parentNode;e&&e.removeChild(this)}function Ht(){return this.each(Vt)}function Ut(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Wt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Gt(e){return this.select(e?Wt:Ut)}function Kt(e){return arguments.length?this.property(`__data__`,e):this.node().__data__}function qt(e){return function(t){e.call(this,t,this.__data__)}}function Jt(e){return e.trim().split(/^|\s+/).map(function(e){var t=``,n=e.indexOf(`.`);return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function Yt(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Xt(e,t,n){return function(){var r=this.__on,i,a=qt(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Zt(e,t,n){var r=Jt(e+``),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,u;c<l;++c)for(i=0,u=s[c];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?Xt:Yt,i=0;i<a;++i)this.each(s(r[i],t,n));return this}function Qt(e,t,n){var r=ct(e),i=r.CustomEvent;typeof i==`function`?i=new i(t,n):(i=r.document.createEvent(`Event`),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function $t(e,t){return function(){return Qt(this,e,t)}}function en(e,t){return function(){return Qt(this,e,t.apply(this,arguments))}}function tn(e,t){return this.each((typeof t==`function`?en:$t)(e,t))}function*nn(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var rn=[null];function L(e,t){this._groups=e,this._parents=t}function an(){return new L([[document.documentElement]],rn)}function on(){return this}L.prototype=an.prototype={constructor:L,select:_e,selectAll:Se,selectChild:Oe,selectChildren:Me,filter:Ne,data:Ve,enter:Fe,exit:Ue,join:We,merge:Ge,selection:on,order:Ke,sort:qe,call:Ye,nodes:Xe,node:Ze,size:Qe,empty:$e,each:et,attr:st,style:ft,property:gt,classed:Tt,text:kt,html:Nt,raise:Ft,lower:Lt,append:Rt,insert:Bt,remove:Ht,clone:Gt,datum:Kt,on:Zt,dispatch:tn,[Symbol.iterator]:nn};var sn=an;function cn(e){return typeof e==`string`?new L([[document.querySelector(e)]],[document.documentElement]):new L([[e]],rn)}function ln(e){let t;for(;t=e.sourceEvent;)e=t;return e}function un(e,t){if(e=ln(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function dn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function pn(){}var mn=.7,hn=1/mn,gn=`\\s*([+-]?\\d+)\\s*`,_n=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*`,R=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*`,vn=/^#([0-9a-f]{3,8})$/,yn=RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),bn=RegExp(`^rgb\\(${R},${R},${R}\\)$`),xn=RegExp(`^rgba\\(${gn},${gn},${gn},${_n}\\)$`),Sn=RegExp(`^rgba\\(${R},${R},${R},${_n}\\)$`),Cn=RegExp(`^hsl\\(${_n},${R},${R}\\)$`),wn=RegExp(`^hsla\\(${_n},${R},${R},${_n}\\)$`),Tn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dn(pn,An,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:En,formatHex:En,formatHex8:Dn,formatHsl:On,formatRgb:kn,toString:kn});function En(){return this.rgb().formatHex()}function Dn(){return this.rgb().formatHex8()}function On(){return Bn(this).formatHsl()}function kn(){return this.rgb().formatRgb()}function An(e){var t,n;return e=(e+``).trim().toLowerCase(),(t=vn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?jn(t):n===3?new z(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yn.exec(e))?new z(t[1],t[2],t[3],1):(t=bn.exec(e))?new z(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xn.exec(e))?Mn(t[1],t[2],t[3],t[4]):(t=Sn.exec(e))?Mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Cn.exec(e))?zn(t[1],t[2]/100,t[3]/100,1):(t=wn.exec(e))?zn(t[1],t[2]/100,t[3]/100,t[4]):Tn.hasOwnProperty(e)?jn(Tn[e]):e===`transparent`?new z(NaN,NaN,NaN,0):null}function jn(e){return new z(e>>16&255,e>>8&255,e&255,1)}function Mn(e,t,n,r){return r<=0&&(e=t=n=NaN),new z(e,t,n,r)}function Nn(e){return e instanceof pn||(e=An(e)),e?(e=e.rgb(),new z(e.r,e.g,e.b,e.opacity)):new z}function Pn(e,t,n,r){return arguments.length===1?Nn(e):new z(e,t,n,r??1)}function z(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}dn(z,Pn,fn(pn,{brighter(e){return e=e==null?hn:hn**+e,new z(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mn:mn**+e,new z(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new z(B(this.r),B(this.g),B(this.b),Rn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fn,formatHex:Fn,formatHex8:In,formatRgb:Ln,toString:Ln}));function Fn(){return`#${V(this.r)}${V(this.g)}${V(this.b)}`}function In(){return`#${V(this.r)}${V(this.g)}${V(this.b)}${V((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ln(){let e=Rn(this.opacity);return`${e===1?`rgb(`:`rgba(`}${B(this.r)}, ${B(this.g)}, ${B(this.b)}${e===1?`)`:`, ${e})`}`}function Rn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function B(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function V(e){return e=B(e),(e<16?`0`:``)+e.toString(16)}function zn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new H(e,t,n,r)}function Bn(e){if(e instanceof H)return new H(e.h,e.s,e.l,e.opacity);if(e instanceof pn||(e=An(e)),!e)return new H;if(e instanceof H)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=t===a?(n-r)/s+(n<r)*6:n===a?(r-t)/s+2:(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new H(o,s,c,e.opacity)}function Vn(e,t,n,r){return arguments.length===1?Bn(e):new H(e,t,n,r??1)}function H(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}dn(H,Vn,fn(pn,{brighter(e){return e=e==null?hn:hn**+e,new H(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mn:mn**+e,new H(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new z(Wn(e>=240?e-240:e+120,i,r),Wn(e,i,r),Wn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new H(Hn(this.h),Un(this.s),Un(this.l),Rn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Rn(this.opacity);return`${e===1?`hsl(`:`hsla(`}${Hn(this.h)}, ${Un(this.s)*100}%, ${Un(this.l)*100}%${e===1?`)`:`, ${e})`}`}}));function Hn(e){return e=(e||0)%360,e<0?e+360:e}function Un(e){return Math.max(0,Math.min(1,e||0))}function Wn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Gn=e=>()=>e;function Kn(e,t){return function(n){return e+n*t}}function qn(e,t,n){return e**=+n,t=t**+n-e,n=1/n,function(r){return(e+r*t)**+n}}function Jn(e){return(e=+e)==1?Yn:function(t,n){return n-t?qn(t,n,e):Gn(isNaN(t)?n:t)}}function Yn(e,t){var n=t-e;return n?Kn(e,n):Gn(isNaN(e)?t:e)}var Xn=(function e(t){var n=Jn(t);function r(e,t){var r=n((e=Pn(e)).r,(t=Pn(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Yn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+``}}return r.gamma=e,r})(1);function U(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Zn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qn=new RegExp(Zn.source,`g`);function $n(e){return function(){return e}}function er(e){return function(t){return e(t)+``}}function tr(e,t){var n=Zn.lastIndex=Qn.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e+=``,t+=``;(r=Zn.exec(e))&&(i=Qn.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:U(r,i)})),n=Qn.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?er(c[0].x):$n(t):(t=c.length,function(e){for(var n=0,r;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join(``)})}var nr=180/Math.PI,rr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ir(e,t,n,r,i,a){var o,s,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*nr,skewX:Math.atan(c)*nr,scaleX:o,scaleY:s}}var ar;function or(e){let t=new(typeof DOMMatrix==`function`?DOMMatrix:WebKitCSSMatrix)(e+``);return t.isIdentity?rr:ir(t.a,t.b,t.c,t.d,t.e,t.f)}function sr(e){return e==null||(ar||=document.createElementNS(`http://www.w3.org/2000/svg`,`g`),ar.setAttribute(`transform`,e),!(e=ar.transform.baseVal.consolidate()))?rr:(e=e.matrix,ir(e.a,e.b,e.c,e.d,e.e,e.f))}function cr(e,t,n,r){function i(e){return e.length?e.pop()+` `:``}function a(e,r,i,a,o,s){if(e!==i||r!==a){var c=o.push(`translate(`,null,t,null,n);s.push({i:c-4,x:U(e,i)},{i:c-2,x:U(r,a)})}else (i||a)&&o.push(`translate(`+i+t+a+n)}function o(e,t,n,a){e===t?t&&n.push(i(n)+`rotate(`+t+r):(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+`rotate(`,null,r)-2,x:U(e,t)}))}function s(e,t,n,a){e===t?t&&n.push(i(n)+`skewX(`+t+r):a.push({i:n.push(i(n)+`skewX(`,null,r)-2,x:U(e,t)})}function c(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+`scale(`,null,`,`,null,`)`);o.push({i:s-4,x:U(e,n)},{i:s-2,x:U(t,r)})}else (n!==1||r!==1)&&a.push(i(a)+`scale(`+n+`,`+r+`)`)}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),o(t.rotate,n.rotate,r,i),s(t.skewX,n.skewX,r,i),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t=-1,n=i.length,a;++t<n;)r[(a=i[t]).i]=a.x(e);return r.join(``)}}}var lr=cr(or,`px, `,`px)`,`deg)`),ur=cr(sr,`, `,`)`,`)`),dr=0,fr=0,pr=0,mr=1e3,hr,gr,_r=0,vr=0,yr=0,br=typeof performance==`object`&&performance.now?performance:Date,xr=typeof window==`object`&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sr(){return vr||=(xr(Cr),br.now()+yr)}function Cr(){vr=0}function wr(){this._call=this._time=this._next=null}wr.prototype=Tr.prototype={constructor:wr,restart:function(e,t,n){if(typeof e!=`function`)throw TypeError(`callback is not a function`);n=(n==null?Sr():+n)+(t==null?0:+t),!this._next&&gr!==this&&(gr?gr._next=this:hr=this,gr=this),this._call=e,this._time=n,Ar()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ar())}};function Tr(e,t,n){var r=new wr;return r.restart(e,t,n),r}function Er(){Sr(),++dr;for(var e=hr,t;e;)(t=vr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--dr}function Dr(){vr=(_r=br.now())+yr,dr=fr=0;try{Er()}finally{dr=0,kr(),vr=0}}function Or(){var e=br.now(),t=e-_r;t>mr&&(yr-=t,_r=e)}function kr(){for(var e,t=hr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:hr=n);gr=e,Ar(r)}function Ar(e){dr||(fr&&=clearTimeout(fr),e-vr>24?(e<1/0&&(fr=setTimeout(Dr,e-br.now()-yr)),pr&&=clearInterval(pr)):(pr||=(_r=br.now(),setInterval(Or,mr)),dr=1,xr(Dr)))}function jr(e,t,n){var r=new wr;return t=t==null?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}var Mr=le(`start`,`end`,`cancel`,`interrupt`),Nr=[];function Pr(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Ir(e,n,{name:t,index:r,group:i,on:Mr,tween:Nr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function Fr(e,t){var n=G(e,t);if(n.state>0)throw Error(`too late; already scheduled`);return n}function W(e,t){var n=G(e,t);if(n.state>3)throw Error(`too late; already running`);return n}function G(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error(`transition not found`);return n}function Ir(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Tr(a,0,n.time);function a(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,u,d,f;if(n.state!==1)return c();for(l in r)if(f=r[l],f.name===n.name){if(f.state===3)return jr(o);f.state===4?(f.state=6,f.timer.stop(),f.on.call(`interrupt`,e,e.__data__,f.index,f.group),delete r[l]):+l<t&&(f.state=6,f.timer.stop(),f.on.call(`cancel`,e,e.__data__,f.index,f.group),delete r[l])}if(jr(function(){n.state===3&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=2,n.on.call(`start`,e,e.__data__,n.index,n.group),n.state===2){for(n.state=3,i=Array(d=n.tween.length),l=0,u=-1;l<d;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=f);i.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=5,1),a=-1,o=i.length;++a<o;)i[a].call(e,r);n.state===5&&(n.on.call(`end`,e,e.__data__,n.index,n.group),c())}function c(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}}function Lr(e,t){var n=e.__transition,r,i,a=!0,o;if(n){for(o in t=t==null?null:t+``,n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?`interrupt`:`cancel`,e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function Rr(e){return this.each(function(){Lr(this,e)})}function zr(e,t){var n,r;return function(){var i=W(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Br(e,t,n){var r,i;if(typeof n!=`function`)throw Error();return function(){var a=W(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}a.tween=i}}function Vr(e,t){var n=this._id;if(e+=``,arguments.length<2){for(var r=G(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?zr:Br)(n,e,t))}function Hr(e,t,n){var r=e._id;return e.each(function(){var e=W(this,r);(e.value||={})[t]=n.apply(this,arguments)}),function(e){return G(e,r).value[t]}}function Ur(e,t){var n;return(typeof t==`number`?U:t instanceof An?Xn:(n=An(t))?(t=n,Xn):tr)(e,t)}function Wr(e){return function(){this.removeAttribute(e)}}function Gr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kr(e,t,n){var r,i=n+``,a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function qr(e,t,n){var r,i=n+``,a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function Jr(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=s+``,o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function Yr(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=s+``,o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function Xr(e,t){var n=de(e),r=n===`transform`?ur:Ur;return this.attrTween(e,typeof t==`function`?(n.local?Yr:Jr)(n,r,Hr(this,`attr.`+e,t)):t==null?(n.local?Gr:Wr)(n):(n.local?qr:Kr)(n,r,t))}function Zr(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Qr(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function $r(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Qr(e,i)),n}return i._value=t,i}function ei(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Zr(e,i)),n}return i._value=t,i}function ti(e,t){var n=`attr.`+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!=`function`)throw Error();var r=de(e);return this.tween(n,(r.local?$r:ei)(r,t))}function ni(e,t){return function(){Fr(this,e).delay=+t.apply(this,arguments)}}function ri(e,t){return t=+t,function(){Fr(this,e).delay=t}}function ii(e){var t=this._id;return arguments.length?this.each((typeof e==`function`?ni:ri)(t,e)):G(this.node(),t).delay}function ai(e,t){return function(){W(this,e).duration=+t.apply(this,arguments)}}function oi(e,t){return t=+t,function(){W(this,e).duration=t}}function si(e){var t=this._id;return arguments.length?this.each((typeof e==`function`?ai:oi)(t,e)):G(this.node(),t).duration}function ci(e,t){if(typeof t!=`function`)throw Error();return function(){W(this,e).ease=t}}function li(e){var t=this._id;return arguments.length?this.each(ci(t,e)):G(this.node(),t).ease}function ui(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!=`function`)throw Error();W(this,e).ease=n}}function di(e){if(typeof e!=`function`)throw Error();return this.each(ui(this._id,e))}function fi(e){typeof e!=`function`&&(e=Ce(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&e.call(c,c.__data__,l,a)&&s.push(c);return new K(r,this._parents,this._name,this._id)}function pi(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=Array(r),s=0;s<a;++s)for(var c=t[s],l=n[s],u=c.length,d=o[s]=Array(u),f,p=0;p<u;++p)(f=c[p]||l[p])&&(d[p]=f);for(;s<r;++s)o[s]=t[s];return new K(o,this._parents,this._name,this._id)}function mi(e){return(e+``).trim().split(/^|\s+/).every(function(e){var t=e.indexOf(`.`);return t>=0&&(e=e.slice(0,t)),!e||e===`start`})}function hi(e,t,n){var r,i,a=mi(t)?Fr:W;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function gi(e,t){var n=this._id;return arguments.length<2?G(this.node(),n).on.on(e):this.each(hi(n,e,t))}function _i(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function vi(){return this.on(`end.remove`,_i(this._id))}function yi(e){var t=this._name,n=this._id;typeof e!=`function`&&(e=ge(e));for(var r=this._groups,i=r.length,a=Array(i),o=0;o<i;++o)for(var s=r[o],c=s.length,l=a[o]=Array(c),u,d,f=0;f<c;++f)(u=s[f])&&(d=e.call(u,u.__data__,f,s))&&(`__data__`in u&&(d.__data__=u.__data__),l[f]=d,Pr(l[f],t,n,f,l,G(u,n)));return new K(a,this._parents,t,n)}function bi(e){var t=this._name,n=this._id;typeof e!=`function`&&(e=be(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c=r[s],l=c.length,u,d=0;d<l;++d)if(u=c[d]){for(var f=e.call(u,u.__data__,d,c),p,m=G(u,n),h=0,g=f.length;h<g;++h)(p=f[h])&&Pr(p,t,n,h,f,m);a.push(f),o.push(u)}return new K(a,o,t,n)}var xi=sn.prototype.constructor;function Si(){return new xi(this._groups,this._parents)}function Ci(e,t){var n,r,i;return function(){var a=I(this,e),o=(this.style.removeProperty(e),I(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function wi(e){return function(){this.style.removeProperty(e)}}function Ti(e,t,n){var r,i=n+``,a;return function(){var o=I(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function Ei(e,t,n){var r,i,a;return function(){var o=I(this,e),s=n(this),c=s+``;return s??(c=s=(this.style.removeProperty(e),I(this,e))),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s))}}function Di(e,t){var n,r,i,a=`style.`+t,o=`end.`+a,s;return function(){var c=W(this,e),l=c.on,u=c.value[a]==null?s||=wi(t):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(o,i=u),c.on=r}}function Oi(e,t,n){var r=(e+=``)==`transform`?lr:Ur;return t==null?this.styleTween(e,Ci(e,r)).on(`end.style.`+e,wi(e)):typeof t==`function`?this.styleTween(e,Ei(e,r,Hr(this,`style.`+e,t))).each(Di(this._id,e)):this.styleTween(e,Ti(e,r,t),n).on(`end.style.`+e,null)}function ki(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Ai(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&ki(e,a,n)),r}return a._value=t,a}function ji(e,t,n){var r=`style.`+(e+=``);if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!=`function`)throw Error();return this.tween(r,Ai(e,t,n??``))}function Mi(e){return function(){this.textContent=e}}function Ni(e){return function(){this.textContent=e(this)??``}}function Pi(e){return this.tween(`text`,typeof e==`function`?Ni(Hr(this,`text`,e)):Mi(e==null?``:e+``))}function Fi(e){return function(t){this.textContent=e.call(this,t)}}function Ii(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Fi(r)),t}return r._value=e,r}function Li(e){var t=`text`;if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!=`function`)throw Error();return this.tween(t,Ii(e))}function Ri(){for(var e=this._name,t=this._id,n=Hi(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)if(c=o[l]){var u=G(c,t);Pr(c,e,n,l,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new K(r,this._parents,e,n)}function zi(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var n=W(this,r),i=n.on;i!==e&&(t=(e=i).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t}),i===0&&a()})}var Bi=0;function K(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Vi(e){return sn().transition(e)}function Hi(){return++Bi}var q=sn.prototype;K.prototype=Vi.prototype={constructor:K,select:yi,selectAll:bi,selectChild:q.selectChild,selectChildren:q.selectChildren,filter:fi,merge:pi,selection:Si,transition:Ri,call:q.call,nodes:q.nodes,node:q.node,size:q.size,empty:q.empty,each:q.each,on:gi,attr:Xr,attrTween:ti,style:Oi,styleTween:ji,text:Pi,textTween:Li,remove:vi,tween:Vr,delay:ii,duration:si,ease:li,easeVarying:di,end:zi,[Symbol.iterator]:q[Symbol.iterator]};function Ui(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Wi={time:null,delay:0,duration:250,ease:Ui};function Gi(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}function Ki(e){var t,n;e instanceof K?(t=e._id,e=e._name):(t=Hi(),(n=Wi).time=Sr(),e=e==null?null:e+``);for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&Pr(c,e,t,l,o,n||Gi(c,t));return new K(r,this._parents,e,t)}sn.prototype.interrupt=Rr,sn.prototype.transition=Ki;var{abs:qi,max:Ji,min:Yi}=Math;[`w`,`e`].map(Xi),[`n`,`s`].map(Xi),[`n`,`w`,`e`,`s`,`nw`,`ne`,`sw`,`se`].map(Xi);function Xi(e){return{type:e}}var Zi=Math.PI,Qi=2*Zi,J=1e-6,$i=Qi-J;function ea(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ta(e){let t=Math.floor(e);if(!(t>=0))throw Error(`invalid digits: ${e}`);if(t>15)return ea;let n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}var na=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._=``,this._append=e==null?ea:ta(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,i=+i,i<0)throw Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=n-e,c=r-t,l=a-e,u=o-t,d=l*l+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(d>J)if(!(Math.abs(u*s-c*l)>J)||!i)this._append`L${this._x1=e},${this._y1=t}`;else{let f=n-a,p=r-o,m=s*s+c*c,h=f*f+p*p,g=Math.sqrt(m),_=Math.sqrt(d),v=i*Math.tan((Zi-Math.acos((m+d-h)/(2*g*_)))/2),y=v/_,b=v/g;Math.abs(y-1)>J&&this._append`L${e+y*l},${t+y*u}`,this._append`A${i},${i},0,0,${+(u*f>l*p)},${this._x1=e+b*s},${this._y1=t+b*c}`}}arc(e,t,n,r,i,a){if(e=+e,t=+t,n=+n,a=!!a,n<0)throw Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),c=e+o,l=t+s,u=1^a,d=a?r-i:i-r;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>J||Math.abs(this._y1-l)>J)&&this._append`L${c},${l}`,n&&(d<0&&(d=d%Qi+Qi),d>$i?this._append`A${n},${n},0,1,${u},${e-o},${t-s}A${n},${n},0,1,${u},${this._x1=c},${this._y1=l}`:d>J&&this._append`A${n},${n},0,${+(d>=Zi)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function ra(){return new na}ra.prototype=na.prototype;function ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const aa=Symbol(`implicit`);function oa(){var e=new ee,t=[],n=[],r=aa;function i(i){let a=e.get(i);if(a===void 0){if(r!==aa)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new ee;for(let r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return oa(t,n).unknown(r)},ia.apply(i,arguments),i}function sa(e){for(var t=e.length/6|0,n=Array(t),r=0;r<t;)n[r]=`#`+e.slice(r*6,++r*6);return n}var ca=sa(`4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab`);function Y(e){return function(){return e}}const la=Math.abs,X=Math.atan2,Z=Math.cos,ua=Math.max,da=Math.min,Q=Math.sin,$=Math.sqrt,fa=Math.PI,pa=fa/2,ma=2*fa;function ha(e){return e>1?0:e<-1?fa:Math.acos(e)}function ga(e){return e>=1?pa:e<=-1?-pa:Math.asin(e)}function _a(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let e=Math.floor(n);if(!(e>=0))throw RangeError(`invalid digits: ${n}`);t=e}return e},()=>new na(t)}function va(e){return e.innerRadius}function ya(e){return e.outerRadius}function ba(e){return e.startAngle}function xa(e){return e.endAngle}function Sa(e){return e&&e.padAngle}function Ca(e,t,n,r,i,a,o,s){var c=n-e,l=r-t,u=o-i,d=s-a,f=d*c-u*l;if(!(f*f<1e-12))return f=(u*(t-a)-d*(e-i))/f,[e+f*c,t+f*l]}function wa(e,t,n,r,i,a,o){var s=e-n,c=t-r,l=(o?a:-a)/$(s*s+c*c),u=l*c,d=-l*s,f=e+u,p=t+d,m=n+u,h=r+d,g=(f+m)/2,_=(p+h)/2,v=m-f,y=h-p,b=v*v+y*y,x=i-a,S=f*h-m*p,C=(y<0?-1:1)*$(ua(0,x*x*b-S*S)),w=(S*y-v*C)/b,T=(-S*v-y*C)/b,E=(S*y+v*C)/b,D=(-S*v+y*C)/b,O=w-g,k=T-_,A=E-g,j=D-_;return O*O+k*k>A*A+j*j&&(w=E,T=D),{cx:w,cy:T,x01:-u,y01:-d,x11:w*(i/x-1),y11:T*(i/x-1)}}function Ta(){var e=va,t=ya,n=Y(0),r=null,i=ba,a=xa,o=Sa,s=null,c=_a(l);function l(){var l,u,d=+e.apply(this,arguments),f=+t.apply(this,arguments),p=i.apply(this,arguments)-pa,m=a.apply(this,arguments)-pa,h=la(m-p),g=m>p;if(s||=l=c(),f<d&&(u=f,f=d,d=u),!(f>1e-12))s.moveTo(0,0);else if(h>ma-1e-12)s.moveTo(f*Z(p),f*Q(p)),s.arc(0,0,f,p,m,!g),d>1e-12&&(s.moveTo(d*Z(m),d*Q(m)),s.arc(0,0,d,m,p,g));else{var _=p,v=m,y=p,b=m,x=h,S=h,C=o.apply(this,arguments)/2,w=C>1e-12&&(r?+r.apply(this,arguments):$(d*d+f*f)),T=da(la(f-d)/2,+n.apply(this,arguments)),E=T,D=T,O,k;if(w>1e-12){var A=ga(w/d*Q(C)),j=ga(w/f*Q(C));(x-=A*2)>1e-12?(A*=g?1:-1,y+=A,b-=A):(x=0,y=b=(p+m)/2),(S-=j*2)>1e-12?(j*=g?1:-1,_+=j,v-=j):(S=0,_=v=(p+m)/2)}var M=f*Z(_),N=f*Q(_),ee=d*Z(b),te=d*Q(b);if(T>1e-12){var ne=f*Z(v),re=f*Q(v),ie=d*Z(y),ae=d*Q(y),P;if(h<fa)if(P=Ca(M,N,ie,ae,ne,re,ee,te)){var F=M-P[0],oe=N-P[1],se=ne-P[0],ce=re-P[1],le=1/Q(ha((F*se+oe*ce)/($(F*F+oe*oe)*$(se*se+ce*ce)))/2),ue=$(P[0]*P[0]+P[1]*P[1]);E=da(T,(d-ue)/(le-1)),D=da(T,(f-ue)/(le+1))}else E=D=0}S>1e-12?D>1e-12?(O=wa(ie,ae,M,N,f,D,g),k=wa(ne,re,ee,te,f,D,g),s.moveTo(O.cx+O.x01,O.cy+O.y01),D<T?s.arc(O.cx,O.cy,D,X(O.y01,O.x01),X(k.y01,k.x01),!g):(s.arc(O.cx,O.cy,D,X(O.y01,O.x01),X(O.y11,O.x11),!g),s.arc(0,0,f,X(O.cy+O.y11,O.cx+O.x11),X(k.cy+k.y11,k.cx+k.x11),!g),s.arc(k.cx,k.cy,D,X(k.y11,k.x11),X(k.y01,k.x01),!g))):(s.moveTo(M,N),s.arc(0,0,f,_,v,!g)):s.moveTo(M,N),!(d>1e-12)||!(x>1e-12)?s.lineTo(ee,te):E>1e-12?(O=wa(ee,te,ne,re,d,-E,g),k=wa(M,N,ie,ae,d,-E,g),s.lineTo(O.cx+O.x01,O.cy+O.y01),E<T?s.arc(O.cx,O.cy,E,X(O.y01,O.x01),X(k.y01,k.x01),!g):(s.arc(O.cx,O.cy,E,X(O.y01,O.x01),X(O.y11,O.x11),!g),s.arc(0,0,d,X(O.cy+O.y11,O.cx+O.x11),X(k.cy+k.y11,k.cx+k.x11),g),s.arc(k.cx,k.cy,E,X(k.y11,k.x11),X(k.y01,k.x01),!g))):s.arc(0,0,d,b,y,g)}if(s.closePath(),l)return s=null,l+``||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-fa/2;return[Z(r)*n,Q(r)*n]},l.innerRadius=function(t){return arguments.length?(e=typeof t==`function`?t:Y(+t),l):e},l.outerRadius=function(e){return arguments.length?(t=typeof e==`function`?e:Y(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n=typeof e==`function`?e:Y(+e),l):n},l.padRadius=function(e){return arguments.length?(r=e==null?null:typeof e==`function`?e:Y(+e),l):r},l.startAngle=function(e){return arguments.length?(i=typeof e==`function`?e:Y(+e),l):i},l.endAngle=function(e){return arguments.length?(a=typeof e==`function`?e:Y(+e),l):a},l.padAngle=function(e){return arguments.length?(o=typeof e==`function`?e:Y(+e),l):o},l.context=function(e){return arguments.length?(s=e??null,l):s},l}Array.prototype.slice;function Ea(e){return typeof e==`object`&&`length`in e?e:Array.from(e)}function Da(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Oa(e){return e}function ka(){var e=Oa,t=Da,n=null,r=Y(0),i=Y(ma),a=Y(0);function o(o){var s,c=(o=Ea(o)).length,l,u,d=0,f=Array(c),p=Array(c),m=+r.apply(this,arguments),h=Math.min(ma,Math.max(-ma,i.apply(this,arguments)-m)),g,_=Math.min(Math.abs(h)/c,a.apply(this,arguments)),v=_*(h<0?-1:1),y;for(s=0;s<c;++s)(y=p[f[s]=s]=+e(o[s],s,o))>0&&(d+=y);for(t==null?n!=null&&f.sort(function(e,t){return n(o[e],o[t])}):f.sort(function(e,n){return t(p[e],p[n])}),s=0,u=d?(h-c*v)/d:0;s<c;++s,m=g)l=f[s],y=p[l],g=m+(y>0?y*u:0)+v,p[l]={data:o[l],index:s,value:y,startAngle:m,endAngle:g,padAngle:_};return p}return o.value=function(t){return arguments.length?(e=typeof t==`function`?t:Y(+t),o):e},o.sortValues=function(e){return arguments.length?(t=e,n=null,o):t},o.sort=function(e){return arguments.length?(n=e,t=null,o):n},o.startAngle=function(e){return arguments.length?(r=typeof e==`function`?e:Y(+e),o):r},o.endAngle=function(e){return arguments.length?(i=typeof e==`function`?e:Y(+e),o):i},o.padAngle=function(e){return arguments.length?(a=typeof e==`function`?e:Y(+e),o):a},o}function Aa(e,t,n){this.k=e,this.x=t,this.y=n}Aa.prototype={constructor:Aa,scale:function(e){return e===1?this:new Aa(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Aa(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return`translate(`+this.x+`,`+this.y+`) scale(`+this.k+`)`}};var ja=new Aa(1,0,0);Ma.prototype=Aa.prototype;function Ma(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ja;return e.__zoom}var Na={class:`lg:col-span-1 card-theme rounded-2xl shadow p-4`},Pa={class:`h-40 w-40 flex items-center justify-center`},Fa={class:`flex-1`},Ia={class:`space-y-2 text-sm`},La=[`onClick`],Ra={class:`flex items-center gap-3`},za={class:`font-medium`},Ba={class:`text-xs text-[color:var(--color-secondary)]`},Va={class:`text-right`},Ha={class:`font-medium text-[color:var(--color-primary)]`},Ua={class:`text-xs text-[color:var(--color-secondary)]`},Wa=g({__name:`ShareholdingRatioChart`,setup(e){let t=C(),s=i(null),l=i(null),u=i(null),m=_(()=>t.holdingDetailsData.map(e=>({id:e.id,name:e.name,stockValue:Number(e.stockValue??e.shares*e.price??0)}))),h=_(()=>m.value.filter(e=>Number(e.stockValue)>0).sort((e,t)=>t.stockValue-e.stockValue)),g=_(()=>h.value.reduce((e,t)=>e+t.stockValue,0)),x=e=>new Intl.NumberFormat().format(Math.round(e)),S=e=>g.value?(e/g.value*100).toFixed(2):`0.00`;function w(){let e=getComputedStyle(document.documentElement),t=e.getPropertyValue(`--color-pie1`).trim()||`#F59E0B`,n=e.getPropertyValue(`--color-pie2`).trim()||`#EF4444`,r=e.getPropertyValue(`--color-pie3`).trim()||`#14BBA6`,i=e.getPropertyValue(`--color-pie4`).trim()||`#2563EB`,a=e.getPropertyValue(`--color-pie5`).trim()||`#4B5563`;return[t,n,r,i,a]}let T=i(null);function E(e){let t=w(),n=0;for(let t=0;t<e.length;t++)n=n*31+e.charCodeAt(t)>>>0;return t[n%t.length]}function D(){if(!l.value||!s.value)return;let e=h.value,t=s.value.getBoundingClientRect(),n=Math.min(160,t.width*.48,200),r=n,i=n,a=Math.min(r,i)/2,o=cn(l.value);o.selectAll(`*`).remove(),o.attr(`viewBox`,`0 0 ${r} ${i}`).attr(`preserveAspectRatio`,`xMidYMid meet`);let c=o.append(`g`).attr(`transform`,`translate(${r/2}, ${i/2})`);if(!e.length){c.append(`text`).attr(`text-anchor`,`middle`).attr(`dy`,`0.35em`).text(`No data`).style(`fill`,`var(--color-secondary)`);return}let u=ka().sort(null).value(e=>e.stockValue)(e),d=a*.95,f=a*.58,p=Ta().innerRadius(f).outerRadius(d).cornerRadius(4),m=e.map(e=>e.id),_=w(),v=oa().domain(m).range(ca.concat(_).slice(0,m.length));c.selectAll(`path`).data(u).enter().append(`path`).attr(`d`,p).attr(`fill`,e=>T.value&&T.value!==e.data.id?A(v(e.data.id),.5):v(e.data.id)).attr(`stroke`,`var(--color-card)`).attr(`stroke-width`,1).style(`cursor`,`pointer`).on(`mousemove`,(e,t)=>{O(e,t),cn(e.currentTarget).attr(`opacity`,.9)}).on(`mouseout`,e=>{k(),cn(e.currentTarget).attr(`opacity`,1)}).on(`click`,(e,t)=>{T.value=T.value===t.data.id?null:t.data.id,D()}),c.append(`text`).attr(`text-anchor`,`middle`).attr(`dy`,`-0.2em`).style(`font-size`,`10px`).style(`fill`,`var(--color-secondary)`).text(`持倉`),c.append(`text`).attr(`text-anchor`,`middle`).attr(`dy`,`1.2em`).style(`font-size`,`9px`).style(`fill`,`var(--color-primary)`).text(x(g.value))}function O(e,t){if(!u.value)return;let n=u.value,[r,i]=un(e,s.value);n.style.display=`block`,n.style.left=`${r+18}px`,n.style.top=`${i+18}px`,n.innerHTML=`
    <div style="font-weight:600">${t.data.name}</div>
    <div style="font-size:13px;margin-top:4px">${x(t.data.stockValue)} 元</div>
    <div style="font-size:12px;color:var(--color-secondary);margin-top:2px">${(t.data.stockValue/g.value*100).toFixed(2)}%</div>
  `}function k(){u.value&&(u.value.style.display=`none`)}function A(e,t=.4){try{let n=An(e);if(!n)return e;n.opacity=1;let r=Vn(n);return r.l+=(1-r.l)*t,r.formatHex()}catch{return e}}function j(e){T.value=T.value===e?null:e,D()}let M=null,N=null;return b(()=>{a(()=>{D()}),N=r([h,()=>g.value],()=>{D()},{deep:!0}),s.value&&window.ResizeObserver&&(M=new ResizeObserver(()=>{D()}),M.observe(s.value))}),v(()=>{M&&M.disconnect(),N&&N()}),(e,t)=>(o(),p(`div`,Na,[t[0]||=c(`h3`,{class:`font-medium text-[color:var(--color-secondary)] mb-2`},`投資分布（現金、持股、融資等比例）`,-1),c(`div`,{ref_key:`container`,ref:s,class:`flex items-center gap-4 relative flex-col xl:flex-row`},[c(`div`,Pa,[(o(),p(`svg`,{ref_key:`svgRef`,ref:l,class:`w-full h-full`},null,512))]),c(`div`,Fa,[c(`ul`,Ia,[(o(!0),p(f,null,y(h.value,(e,t)=>(o(),p(`li`,{key:e.id,onClick:t=>j(e.id),class:`flex items-center justify-between cursor-pointer`},[c(`div`,Ra,[c(`span`,{class:`w-3 h-3 rounded-sm`,style:n({backgroundColor:E(e.id)})},null,4),c(`div`,null,[c(`div`,za,d(e.name),1),c(`div`,Ba,d(e.id),1)])]),c(`div`,Va,[c(`div`,Ha,d(S(e.stockValue))+`% `,1),c(`div`,Ua,` $`+d(x(e.stockValue)),1)])],8,La))),128))])]),c(`div`,{ref_key:`tooltip`,ref:u,class:`chart-tooltip`,style:{display:`none`,position:`absolute`,"pointer-events":`none`}},null,512)],512)]))}},[[`__scopeId`,`data-v-79007850`]]),Ga={},Ka={class:`lg:col-span-2 card-theme rounded-2xl shadow p-4`};function qa(e,t){return o(),p(`div`,Ka,[...t[0]||=[c(`h3`,{class:`font-medium mb-3`},`📈 資產變化`,-1),c(`div`,{class:`h-56 flex items-center justify-center text-[color:var(--color-secondary)] opacity-70`},` [資產變化圖預留區] `,-1)]])}var Ja=g(Ga,[[`render`,qa]]),Ya={class:`card-theme rounded-2xl shadow p-4`},Xa={class:`overflow-x-auto`},Za={class:`w-full text-sm border-collapse`},Qa=[`id`],$a={class:`py-2 px-3 font-medium`},eo={class:`text-right py-2 px-3`},to={class:`text-right py-2 px-3`},no={class:`text-right py-2 px-3`},ro={class:`text-right py-2 px-3`},io={class:`text-right py-2 px-3`},ao=[`onClick`],oo=[`onClick`],so={__name:`HoldingDetails`,setup(e){let n=C(),r=_(()=>{let e=n.totalValue||1;return n.holdingDetailsData.map(t=>({...t,ratio:e?t.stockValue/e:0}))});function i(e){confirm(`確定刪除`)&&n.removeHolding(e)}return(e,n)=>(o(),p(`div`,Ya,[n[1]||=c(`div`,{class:`flex items-center justify-between mb-3`},[c(`h3`,{class:`font-medium mb-3`},`📋 持股明細`)],-1),c(`div`,Xa,[c(`table`,Za,[n[0]||=c(`thead`,{class:`border-b border-[color:var(--color-border)] text-[color:var(--color-secondary)]`},[c(`tr`,null,[c(`th`,{class:`text-left py-2 px-3`},`股票名稱`),c(`th`,{class:`text-right py-2 px-3`},`持股比例`),c(`th`,{class:`text-right py-2 px-3`},`現價`),c(`th`,{class:`text-right py-2 px-3`},`成本`),c(`th`,{class:`text-right py-2 px-3`},`報酬率`),c(`th`,{class:`text-right py-2 px-3`},`市值`),c(`th`,{class:`text-right py-2 px-3`},`操作`)])],-1),c(`tbody`,null,[(o(!0),p(f,null,y(r.value,n=>(o(),p(`tr`,{id:n.id,class:`hover:bg-[color:var(--color-border)]/30 transition`},[c(`td`,$a,d(n.name)+` (`+d(n.id)+`)`,1),c(`td`,eo,d((n.ratio*100).toFixed(2))+`%`,1),c(`td`,to,`$`+d(n.price.toLocaleString()),1),c(`td`,no,`$`+d(n.cost.toLocaleString()),1),c(`td`,{class:t([`text-right py-2 px-3`,[n.cost>n.price?`text-[color:var(--color-line3)]`:`text-[color:var(--color-line2)]`]])},d(n.cost>n.price?``:`+`)+d(((n.price-n.cost)/n.cost*100).toFixed(2))+`% `,3),c(`td`,ro,`$`+d(n.stockValue.toLocaleString()),1),c(`td`,io,[c(`button`,{onClick:t=>e.$emit(`edit-holding`,n),class:`px-2 py-1 mr-2 rounded border border-theme hover:border-[color:var(--color-primary)] cursor-pointer`},` ✏️ `,8,ao),c(`button`,{onClick:e=>i(n.id),class:`px-2 py-1 rounded border border-theme hover:border-[color:var(--color-primary)] cursor-pointer`},` 🗑️ `,8,oo)])],8,Qa))),256))])])])]))}},co={class:`p-6 space-y-6`},lo={class:`flex items-center justify-between`},uo={class:`grid grid-cols-1 lg:grid-cols-3 gap-6`},fo={key:0,class:`fixed inset-0 z-50 flex items-center justify-center`},po={class:`relative bg-[color:var(--color-card)] text-[color:var(--color-text)] rounded-lg shadow-lg w-[min(90%,640px)] p-6 z-10`},mo={class:`text-lg font-semibold mb-4`},ho={class:`grid grid-cols-1 gap-3`},go={class:`grid grid-cols-3 gap-2`},_o={__name:`Portfolio`,setup(t){let n=C(),r=i(!1),a=i(`add`),f=i({id:``,name:``,shares:0,price:0,cost:0});function m(e){e?(a.value=`edit`,f.value={...e}):(a.value=`add`,f.value={id:``,name:``,shares:0,price:0,cost:0}),r.value=!0}function g(){r.value=!1}function _(){f.value.id&&(n.addOrUpdateHolding(f.value),n.recalcValues(),g())}return(t,n)=>(o(),p(`div`,co,[c(`div`,lo,[n[6]||=c(`h2`,{class:`text-2xl font-bold text-[color:var(--color-primary)]`},`💼 我的投資組合`,-1),c(`button`,{onClick:n[0]||=e=>m(),class:`px-4 py-2 rounded-lg border border-[color:var(--color-border)] bg-[color:var(--color-card)] hover:bg-[color:var(--color-border)] transition text-sm cursor-pointer`},` ➕ 編輯數據 `)]),u(N),c(`div`,uo,[u(Wa),u(Ja)]),u(so,{onEditHolding:m}),n[13]||=c(`div`,{class:`text-xs text-[color:var(--color-secondary)] text-right`},` 資料為示意用途，實際數據請以最新持股紀錄為準。 `,-1),r.value?(o(),p(`div`,fo,[c(`div`,{class:`absolute inset-0 bg-black/40`,onClick:g}),c(`div`,po,[c(`h3`,mo,d(a.value===`edit`?`編輯持股`:`新增持股`),1),c(`form`,{onSubmit:s(_,[`prevent`])},[c(`div`,ho,[c(`label`,null,[n[7]||=c(`div`,{class:`text-sm text-[color:var(--color-secondary)]`},`股票代碼 (id)`,-1),e(c(`input`,{"onUpdate:modelValue":n[1]||=e=>f.value.id=e,required:``,class:`w-full border p-2 rounded`},null,512),[[h,f.value.id]])]),c(`label`,null,[n[8]||=c(`div`,{class:`text-sm text-[color:var(--color-secondary)]`},`股票名稱`,-1),e(c(`input`,{"onUpdate:modelValue":n[2]||=e=>f.value.name=e,class:`w-full border p-2 rounded`},null,512),[[h,f.value.name]])]),c(`label`,go,[c(`div`,null,[n[9]||=c(`div`,{class:`text-sm text-[color:var(--color-secondary)]`},`張數 / 股數`,-1),e(c(`input`,{"onUpdate:modelValue":n[3]||=e=>f.value.shares=e,type:`number`,min:`0`,class:`w-full border p-2 rounded`},null,512),[[h,f.value.shares,void 0,{number:!0}]])]),c(`div`,null,[n[10]||=c(`div`,{class:`text-sm text-[color:var(--color-secondary)]`},`當前價格`,-1),e(c(`input`,{"onUpdate:modelValue":n[4]||=e=>f.value.price=e,type:`number`,step:`0.01`,class:`w-full border p-2 rounded`},null,512),[[h,f.value.price,void 0,{number:!0}]])]),c(`div`,null,[n[11]||=c(`div`,{class:`text-sm text-[color:var(--color-secondary)]`},`成本 (每股)`,-1),e(c(`input`,{"onUpdate:modelValue":n[5]||=e=>f.value.cost=e,type:`number`,step:`0.01`,class:`w-full border p-2 rounded`},null,512),[[h,f.value.cost,void 0,{number:!0}]])])]),c(`div`,{class:`flex justify-end gap-2 mt-4`},[c(`button`,{type:`button`,onClick:g,class:`px-4 py-2 rounded border`},`取消`),n[12]||=c(`button`,{type:`submit`,class:`px-4 py-2 rounded bg-[color:var(--color-primary)] text-white`},`儲存`,-1)])])],32)])])):l(``,!0)]))}};export{_o as default};