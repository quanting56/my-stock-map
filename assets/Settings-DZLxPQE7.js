import{C as e,D as t,E as n,T as r,a as i,b as a,d as o,h as s,i as c,k as l,n as u,o as d,p as f,s as p,w as m}from"./index-BsVPBOLV.js";var h={class:`p-6`},g={class:`flex items-start justify-between gap-4 mb-6`},_={class:`flex items-center gap-3`},v={class:`px-3 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm cursor-pointer hover:bg-[color:var(--color-border)] transition`},y={class:`grid grid-cols-1 lg:grid-cols-3 gap-6`},b={class:`lg:col-span-2 card-theme rounded-2xl shadow p-6 space-y-6`},x={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},S={class:`flex items-center gap-4 flex-wrap`},C={class:`flex items-center gap-2 ml-2`},w={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},T={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},E={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},D={class:`flex items-center justify-between p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},O={class:`p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},k={class:`grid grid-cols-1 gap-3`},A={class:`p-3 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)] flex items-center gap-3`},j={class:`flex items-center gap-2`},M=[`type`],N={class:`card-theme rounded-2xl shadow p-4 space-y-4`},P={class:`text-sm text-[color:var(--color-secondary)] mt-2`},F={class:`font-medium`},I={class:`font-medium`},L={class:`font-medium`},R={class:`font-medium`},z=`my-stock-map:settings`,B={__name:`Settings`,setup(B){let V=u(),H={displayName:``,email:``,timezone:`Asia/Taipei`,numberPrecision:2,reduceMotion:!1,notifyPrice:!0,notifyDaily:!1,notifyTrade:!0,notifyFrequency:`daily`,apiKey:``},U=m(G()),W=r(!1);function G(){try{let e=localStorage.getItem(z);if(e)return JSON.parse(e)}catch{}return{...H}}function K(e){localStorage.setItem(z,JSON.stringify(e))}function q(){K(U),alert(`設定已儲存（本地示範）`)}function J(){let e=JSON.stringify(U,null,2),t=new Blob([e],{type:`application/json`}),n=URL.createObjectURL(t),r=document.createElement(`a`);r.href=n,r.download=`mst-settings.json`,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}function Y(e){let t=e.target.files?.[0];if(!t)return;let n=new FileReader;n.onload=()=>{try{let e=JSON.parse(n.result);Object.assign(U,e),K(U),alert(`匯入並套用設定完成`)}catch{alert(`匯入失敗：檔案不是正確的 JSON`)}},n.readAsText(t)}function X(){confirm(`確定要重設所有設定並清空本地儲存嗎？`)&&(Object.assign(U,{...H}),localStorage.removeItem(z),alert(`已重設為預設值`))}function Z(){Object.assign(U,{...H}),K(U),alert(`已載入預設設定`)}function Q(){U.apiKey=``,K(U),alert(`API Key 已清除（本地示範）`)}function $(){alert(`已登出（示範），請串實際認證流程`)}return(r,u)=>(a(),f(`div`,h,[o(`div`,g,[u[14]||=o(`div`,null,[o(`h1`,{class:`text-2xl font-bold text-[color:var(--color-primary)]`},`⚙️ 設定`),o(`p`,{class:`text-sm text-[color:var(--color-secondary)] mt-1`},`帳號、顯示、通知與整體偏好設定。`)],-1),o(`div`,_,[o(`button`,{onClick:J,class:`px-3 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm hover:bg-[color:var(--color-border)] transition`},` 匯出設定 `),o(`label`,v,[u[13]||=s(` 匯入設定 `,-1),o(`input`,{type:`file`,onChange:Y,class:`hidden`},null,32)]),o(`button`,{onClick:X,class:`px-3 py-1 rounded-md bg-red-600 text-white text-sm hover:brightness-90 transition`},` 重設全部 `)])]),o(`div`,y,[o(`div`,b,[o(`section`,null,[u[18]||=o(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`個人設定`,-1),o(`div`,x,[e(o(`input`,{"onUpdate:modelValue":u[0]||=e=>U.displayName=e,placeholder:`顯示名稱`,class:`px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},null,512),[[p,U.displayName]]),e(o(`input`,{"onUpdate:modelValue":u[1]||=e=>U.email=e,placeholder:`電子郵件`,class:`px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},null,512),[[p,U.email]]),e(o(`select`,{"onUpdate:modelValue":u[2]||=e=>U.timezone=e,class:`px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...u[15]||=[o(`option`,{value:`Asia/Taipei`},`Asia/Taipei`,-1),o(`option`,{value:`UTC`},`UTC`,-1),o(`option`,{value:`America/New_York`},`America/New_York`,-1)]],512),[[d,U.timezone]]),o(`div`,null,[u[17]||=o(`label`,{class:`text-sm text-[color:var(--color-secondary)]`},`顯示精度`,-1),e(o(`select`,{"onUpdate:modelValue":u[3]||=e=>U.numberPrecision=e,class:`w-full px-3 py-2 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...u[16]||=[o(`option`,{value:`0`},`整數`,-1),o(`option`,{value:`2`},`小數 2 位`,-1),o(`option`,{value:`4`},`小數 4 位`,-1)]],512),[[d,U.numberPrecision]])])])]),o(`section`,null,[u[20]||=o(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`外觀 (Theme)`,-1),o(`div`,S,[o(`button`,{onClick:u[4]||=e=>n(V).isDarkMode?n(V).toggleUITheme():null,class:t([`px-3 py-2 rounded-lg border transition`,n(V).isDarkMode?`bg-[color:var(--color-card)] border-[color:var(--color-border)]`:`bg-white border-gray-200`])},` 現在：`+l(n(V).isDarkMode?`夜間`:`日間`),3),o(`button`,{onClick:u[5]||=(...e)=>n(V).toggleUITheme&&n(V).toggleUITheme(...e),class:`px-3 py-2 rounded-lg bg-[color:var(--color-primary)] text-white hover:brightness-95 transition`},` 切換主題 `),o(`label`,C,[e(o(`input`,{type:`checkbox`,"onUpdate:modelValue":u[6]||=e=>U.reduceMotion=e},null,512),[[c,U.reduceMotion]]),u[19]||=o(`span`,{class:`text-sm text-[color:var(--color-secondary)]`},`減少動畫（減少動態效果）`,-1)])])]),o(`section`,null,[u[26]||=o(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`通知`,-1),o(`div`,w,[o(`label`,T,[u[21]||=o(`div`,null,[o(`div`,{class:`font-medium`},`價格提醒`),o(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`當持股達到目標價時通知您`)],-1),e(o(`input`,{type:`checkbox`,"onUpdate:modelValue":u[7]||=e=>U.notifyPrice=e},null,512),[[c,U.notifyPrice]])]),o(`label`,E,[u[22]||=o(`div`,null,[o(`div`,{class:`font-medium`},`每日摘要`),o(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`每日早上推播昨日總覽`)],-1),e(o(`input`,{type:`checkbox`,"onUpdate:modelValue":u[8]||=e=>U.notifyDaily=e},null,512),[[c,U.notifyDaily]])]),o(`label`,D,[u[23]||=o(`div`,null,[o(`div`,{class:`font-medium`},`交易異常`),o(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`監控交易失敗或拒單狀態`)],-1),e(o(`input`,{type:`checkbox`,"onUpdate:modelValue":u[9]||=e=>U.notifyTrade=e},null,512),[[c,U.notifyTrade]])]),o(`div`,O,[u[25]||=o(`div`,{class:`font-medium mb-1`},`推播頻率`,-1),e(o(`select`,{"onUpdate:modelValue":u[10]||=e=>U.notifyFrequency=e,class:`w-full px-2 py-1 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},[...u[24]||=[o(`option`,{value:`realtime`},`即時`,-1),o(`option`,{value:`hourly`},`每小時`,-1),o(`option`,{value:`daily`},`每日`,-1)]],512),[[d,U.notifyFrequency]])])])]),o(`section`,null,[u[29]||=o(`h2`,{class:`text-lg font-medium text-[color:var(--color-primary)] mb-2`},`API / Integrations`,-1),o(`div`,k,[o(`div`,A,[u[27]||=o(`div`,{class:`flex-1`},[o(`div`,{class:`text-sm text-[color:var(--color-secondary)]`},`第三方行情 API Key`),o(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`此金鑰會存在 localStorage（示範），上線請改用安全後端儲存。`)],-1),o(`div`,j,[e(o(`input`,{"onUpdate:modelValue":u[11]||=e=>U.apiKey=e,type:W.value?`text`:`password`,placeholder:`輸入 API Key`,class:`px-2 py-1 rounded-md bg-[color:var(--color-card)] border border-[color:var(--color-border)]`},null,8,M),[[i,U.apiKey]]),o(`button`,{onClick:u[12]||=e=>W.value=!W.value,class:`px-2 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm`},l(W.value?`隱藏`:`顯示`),1),o(`button`,{onClick:Q,class:`px-2 py-1 rounded-md bg-red-600 text-white text-sm hover:brightness-95`},`清除`)])]),u[28]||=o(`div`,{class:`text-xs text-[color:var(--color-secondary)]`},`注意：不要在公開 repo 或 client-side 存放敏感金鑰。`,-1)])]),o(`div`,{class:`flex justify-end`},[o(`button`,{onClick:q,class:`px-5 py-2 rounded-lg bg-[color:var(--color-primary)] text-white hover:brightness-95 transition`},`儲存設定`)])]),o(`aside`,N,[o(`div`,null,[u[34]||=o(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`當前設定`,-1),o(`div`,P,[o(`div`,null,[u[30]||=s(`顯示名稱：`,-1),o(`span`,F,l(U.displayName||`-`),1)]),o(`div`,null,[u[31]||=s(`電子郵件：`,-1),o(`span`,I,l(U.email||`-`),1)]),o(`div`,null,[u[32]||=s(`時區：`,-1),o(`span`,L,l(U.timezone),1)]),o(`div`,null,[u[33]||=s(`暗色模式：`,-1),o(`span`,R,l(n(V).isDarkMode?`啟用`:`停用`),1)])])]),o(`div`,{class:`border-t border-[color:var(--color-border)] pt-3`},[u[35]||=o(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`快速匯入 / 匯出`,-1),o(`div`,{class:`flex flex-col gap-2 mt-2`},[o(`button`,{onClick:J,class:`px-3 py-1 rounded-md border border-[color:var(--color-border)] bg-[color:var(--color-card)] text-sm`},`匯出 JSON`),o(`button`,{onClick:Z,class:`px-3 py-1 rounded-md bg-[color:var(--color-primary)] text-white text-sm`},`載入預設`)])]),o(`div`,{class:`border-t border-[color:var(--color-border)] pt-3`},[u[36]||=o(`h3`,{class:`font-medium text-[color:var(--color-primary)]`},`帳戶`,-1),o(`div`,{class:`mt-2`},[o(`button`,{onClick:$,class:`px-3 py-1 rounded-md bg-red-600 text-white text-sm`},`登出`)])])])])]))}};export{B as default};